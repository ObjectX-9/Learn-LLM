<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LangChain 文档处理系统测试</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .header { background-color: #f0f0f0; padding: 20px; }
        .content { margin: 20px 0; }
        .feature { border: 1px solid #ddd; margin: 10px 0; padding: 15px; }
        .code { background-color: #f5f5f5; padding: 10px; margin: 10px 0; }
    </style>
</head>
<body>
    <div class="header">
        <h1>🦜🔗 LangChain 文档处理系统</h1>
        <p>这是一个用于测试 LangChain CheerioWebBaseLoader 的样本 HTML 文档</p>
    </div>

    <div class="content">
        <h2>📚 支持的文档加载器</h2>
        
        <div class="feature">
            <h3>TextLoader</h3>
            <p>LangChain 官方的文本文件加载器，专门处理纯文本格式文件。</p>
            <ul>
                <li>支持 UTF-8 编码</li>
                <li>自动处理换行符</li>
                <li>保留原始文本结构</li>
            </ul>
        </div>

        <div class="feature">
            <h3>PDFLoader</h3>
            <p>专业的 PDF 文档处理器，能够提取 PDF 文件中的文本内容。</p>
            <ul>
                <li>需要 pdf-parse 依赖包</li>
                <li>支持多页面文档</li>
                <li>保留文档元数据</li>
            </ul>
        </div>

        <div class="feature">
            <h3>DocxLoader</h3>
            <p>Word 文档格式支持，能够处理现代 Office 文档。</p>
            <ul>
                <li>需要 mammoth 依赖包</li>
                <li>支持格式化文本</li>
                <li>提取文档结构</li>
            </ul>
        </div>

        <div class="feature">
            <h3>CSVLoader</h3>
            <p>结构化数据处理器，专门处理 CSV 格式的数据文件。</p>
            <ul>
                <li>自动解析表头</li>
                <li>支持自定义分隔符</li>
                <li>处理大型数据表</li>
            </ul>
        </div>

        <div class="feature">
            <h3>JSONLoader</h3>
            <p>JSON 数据解析器，能够处理复杂的 JSON 数据结构。</p>
            <ul>
                <li>支持嵌套对象</li>
                <li>数组数据处理</li>
                <li>保留数据类型</li>
            </ul>
        </div>

        <div class="feature">
            <h3>CheerioWebBaseLoader</h3>
            <p>HTML 内容解析器，专门提取网页和 HTML 文档的文本内容。</p>
            <ul>
                <li>去除 HTML 标签</li>
                <li>提取纯文本内容</li>
                <li>保留文档结构</li>
            </ul>
        </div>

        <h2>✂️ 文档分割策略</h2>
        
        <div class="code">
            <h4>RecursiveCharacterTextSplitter</h4>
            <p>智能递归分割器，根据文档结构进行智能分割：</p>
            <pre>
splitter = RecursiveCharacterTextSplitter(
    chunk_size=1000,
    chunk_overlap=200,
    separators=['\n\n', '\n', ' ', '']
)
            </pre>
        </div>

        <div class="code">
            <h4>TokenTextSplitter</h4>
            <p>基于 Token 的分割器，提供精确的长度控制：</p>
            <pre>
splitter = TokenTextSplitter(
    chunk_size=1000,
    chunk_overlap=200
)
            </pre>
        </div>

        <div class="code">
            <h4>MarkdownTextSplitter</h4>
            <p>Markdown 专用分割器，保持文档结构：</p>
            <pre>
splitter = MarkdownTextSplitter(
    chunk_size=1000,
    chunk_overlap=200
)
            </pre>
        </div>

        <h2>🎯 最佳实践</h2>
        
        <ol>
            <li><strong>选择合适的加载器</strong>：根据文档类型选择最佳的 LangChain 加载器</li>
            <li><strong>优化分割参数</strong>：根据用途调整 chunk_size 和 chunk_overlap</li>
            <li><strong>考虑文档结构</strong>：对于结构化文档使用相应的专用分割器</li>
            <li><strong>处理依赖问题</strong>：确保安装必要的依赖包，或使用降级方案</li>
            <li><strong>监控处理结果</strong>：检查元数据和警告信息</li>
        </ol>

        <h2>⚠️ 注意事项</h2>
        
        <p>使用 LangChain 文档处理系统时需要注意以下几点：</p>
        
        <ul>
            <li>PDF 和 Word 文档需要额外的依赖包</li>
            <li>大文件处理可能需要更多时间</li>
            <li>分割参数需要根据具体用途调整</li>
            <li>系统支持智能降级，确保稳定性</li>
        </ul>
    </div>

    <script>
        // 这段 JavaScript 代码应该被 CheerioWebBaseLoader 忽略
        console.log("这是一段测试脚本，应该在处理时被移除");
        document.addEventListener('DOMContentLoaded', function() {
            console.log("HTML 文档加载完成");
        });
    </script>
</body>
</html> 