---
alwaysApply: true
---

# LangChain æµ‹è¯•å¹³å°å¼€å‘è§„èŒƒ

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

### æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Next.js 14 (App Router)
- **è¯­è¨€**: TypeScript (ä¸¥æ ¼æ¨¡å¼)
- **æ ·å¼**: Tailwind CSS + CSS Variables
- **çŠ¶æ€ç®¡ç†**: React Hooks (useState, useEffect, useRef)
- **AIæ¡†æ¶**: LangChain + OpenAI
- **UIç»„ä»¶**: Lucide React Icons
- **ä»£ç è´¨é‡**: ESLint + Prettier + Husky

### ç›®å½•ç»“æ„
```
src/
â”œâ”€â”€ app/                    # Next.js App Router é¡µé¢
â”‚   â”œâ”€â”€ api/               # API è·¯ç”±
â”‚   â”œâ”€â”€ layout.tsx         # æ ¹å¸ƒå±€
â”‚   â””â”€â”€ [feature]/page.tsx # åŠŸèƒ½é¡µé¢
â”œâ”€â”€ components/            # å¯å¤ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ Sidebar.tsx        # å¯¼èˆªä¾§è¾¹æ 
â”‚   â””â”€â”€ TestPageLayout.tsx # æµ‹è¯•é¡µé¢é€šç”¨å¸ƒå±€
â””â”€â”€ lib/                   # å·¥å…·å‡½æ•°
    â””â”€â”€ utils.ts           # Tailwind ç±»ååˆå¹¶å·¥å…·
```

## ğŸ“ ç¼–ç è§„èŒƒ

### TypeScript è§„èŒƒ
1. **ä¸¥æ ¼ç±»å‹å®šä¹‰**: æ‰€æœ‰ç»„ä»¶ props å¿…é¡»å®šä¹‰æ¥å£
   ```tsx
   interface ComponentNameProps {
     title: string;
     description?: string;
     children: React.ReactNode;
   }
   
   export default function ComponentName({ title, description, children }: ComponentNameProps) {
     // å®ç°
   }
   ```

2. **ç»„ä»¶å‘½å**: ä½¿ç”¨ PascalCaseï¼Œæ–‡ä»¶åä¸ç»„ä»¶åä¸€è‡´
   - âœ… `TestPageLayout.tsx` -> `TestPageLayout`
   - âœ… `PromptTestPage` -> `page.tsx` (App Router é¡µé¢)

3. **æ¥å£å‘½å**: ç»„ä»¶ props æ¥å£ä»¥ `Props` ç»“å°¾
   - âœ… `TestPageLayoutProps`
   - âœ… `PromptTestRequest`

### React ç»„ä»¶è§„èŒƒ
1. **å‡½æ•°ç»„ä»¶**: ä½¿ç”¨å‡½æ•°å£°æ˜ + export default
   ```tsx
   export default function ComponentName() {
     return <div>...</div>;
   }
   ```

2. **Hook ä½¿ç”¨é¡ºåº**:
   ```tsx
   // 1. State hooks
   const [state, setState] = useState();
   
   // 2. Ref hooks  
   const refName = useRef();
   
   // 3. Effect hooks
   useEffect(() => {}, []);
   
   // 4. Custom hooks å’Œå…¶ä»–é€»è¾‘
   ```

3. **äº‹ä»¶å¤„ç†**: ä½¿ç”¨ `handle` å‰ç¼€
   ```tsx
   const handleSubmit = async () => {};
   const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {};
   ```

### æ ·å¼è§„èŒƒ
1. **Tailwind CSS**: ä¼˜å…ˆä½¿ç”¨ Tailwind ç±»å
   ```tsx
   // âœ… æ¨è
   <div className="flex h-screen bg-gray-50">
   
   // âŒ é¿å…å†…è”æ ·å¼
   <div style={{display: 'flex'}}>
   ```

2. **æ¡ä»¶æ ·å¼**: ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²æˆ– cn() å·¥å…·å‡½æ•°
   ```tsx
   // ç®€å•æ¡ä»¶
   className={`px-4 py-2 ${isActive ? 'bg-blue-500' : 'bg-gray-200'}`}
   
   // å¤æ‚æ¡ä»¶ä½¿ç”¨ cn()
   className={cn(
     "px-4 py-2 rounded-md",
     isActive && "bg-blue-500 text-white",
     isDisabled && "opacity-50 cursor-not-allowed"
   )}
   ```

3. **å“åº”å¼è®¾è®¡**: éµå¾ª mobile-first åŸåˆ™
   ```tsx
   <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
   ```

4. **é¢œè‰²ä½¿ç”¨**: ä¼˜å…ˆä½¿ç”¨è¯­ä¹‰åŒ–é¢œè‰²å˜é‡
   ```tsx
   // âœ… ä½¿ç”¨è¯­ä¹‰åŒ–é¢œè‰²
   <button className="bg-primary text-primary-foreground">
   
   // âœ… ä½¿ç”¨ç°åº¦ç³»ç»Ÿ
   <p className="text-gray-600">
   
   // âœ… çŠ¶æ€é¢œè‰²
   <div className="bg-blue-50 border border-blue-200 text-blue-800">
   ```

## ğŸ¯ é¡µé¢å¼€å‘è§„èŒƒ

### å¸ƒå±€ç»„ä»¶ä½¿ç”¨
1. **æµ‹è¯•é¡µé¢**: å¿…é¡»ä½¿ç”¨ `TestPageLayout` åŒ…è£…
   ```tsx
   export default function FeaturePage() {
     return (
       <TestPageLayout 
         title="åŠŸèƒ½æ ‡é¢˜" 
         description="åŠŸèƒ½æè¿°"
       >
         <div className="p-6 space-y-6">
           {/* é¡µé¢å†…å®¹ */}
         </div>
       </TestPageLayout>
     );
   }
   ```

2. **é¦–é¡µ**: ç›´æ¥ä½¿ç”¨ Sidebar + main å¸ƒå±€
   ```tsx
   <div className="flex h-screen bg-gray-50">
     <Sidebar />
     <main className="flex-1 overflow-y-auto">
       {/* å†…å®¹ */}
     </main>
   </div>
   ```

### API è·¯ç”±è§„èŒƒ
1. **æ–‡ä»¶ç»“æ„**: ä½¿ç”¨ `route.ts` æ–‡ä»¶
   ```
   src/app/api/
   â”œâ”€â”€ prompt/route.ts
   â””â”€â”€ [feature]/route.ts
   ```

2. **è¯·æ±‚å¤„ç†**: åŒ…å«å®Œæ•´çš„é”™è¯¯å¤„ç†
   ```tsx
   export async function POST(request: NextRequest) {
     try {
       const body = await request.json();
       // å¤„ç†é€»è¾‘
       return NextResponse.json(result);
     } catch (error) {
       console.error('API Error:', error);
       return NextResponse.json(
         { error: 'å¤„ç†è¯·æ±‚æ—¶å‘ç”Ÿé”™è¯¯', details: error.message },
         { status: 500 }
       );
     }
   }
   ```

3. **æµå¼å“åº”**: ä½¿ç”¨ ReadableStream
   ```tsx
   const readable = new ReadableStream({
     async start(controller) {
       // æµå¼å¤„ç†é€»è¾‘
     }
   });
   ```

## ğŸ”§ LangChain é›†æˆè§„èŒƒ

### æ¨¡å‹é…ç½®
1. **ç¯å¢ƒå˜é‡**: ä½¿ç”¨ `process.env` é…ç½®
   ```tsx
   const chat = new ChatOpenAI({
     openAIApiKey: process.env.OPEN_API_KEY,
     modelName: 'gpt-3.5-turbo',
     configuration: {
       baseURL: process.env.OPEN_API_BASE_URL,
     },
   });
   ```

2. **æ¶ˆæ¯æ„å»º**: ä½¿ç”¨ LangChain æ¶ˆæ¯ç±»
   ```tsx
   const messages = [];
   if (systemMessage) {
     messages.push(new SystemMessage(systemMessage));
   }
   messages.push(new HumanMessage(prompt));
   ```

### é”™è¯¯å¤„ç†
1. **API è°ƒç”¨**: åŒ…å«è¶…æ—¶å’Œå–æ¶ˆæœºåˆ¶
   ```tsx
   const abortController = new AbortController();
   
   try {
     const response = await fetch('/api/endpoint', {
       signal: abortController.signal,
     });
   } catch (error) {
     if (error.name !== 'AbortError') {
       // å¤„ç†å…¶ä»–é”™è¯¯
     }
   }
   ```

## ğŸ“¦ çŠ¶æ€ç®¡ç†è§„èŒƒ

### æœ¬åœ°çŠ¶æ€
1. **ç®€å•çŠ¶æ€**: ä½¿ç”¨ useState
   ```tsx
   const [isLoading, setIsLoading] = useState(false);
   const [data, setData] = useState<DataType[]>([]);
   ```

2. **å¤æ‚å¯¹è±¡**: ä½¿ç”¨å¯¹è±¡çŠ¶æ€ + å±•å¼€æ“ä½œç¬¦
   ```tsx
   const [request, setRequest] = useState<RequestType>({
     prompt: '',
     temperature: 0.7,
     // ...å…¶ä»–å­—æ®µ
   });
   
   const updateRequest = (updates: Partial<RequestType>) => {
     setRequest(prev => ({ ...prev, ...updates }));
   };
   ```

### æŒä¹…åŒ–çŠ¶æ€
1. **localStorage**: ç”¨äºç”¨æˆ·åå¥½å’Œå†å²è®°å½•
   ```tsx
   // ä¿å­˜
   localStorage.setItem('key', JSON.stringify(data));
   
   // è¯»å–
   const saved = localStorage.getItem('key');
   if (saved) {
     setData(JSON.parse(saved));
   }
   ```

## ğŸ¨ ç”¨æˆ·ä½“éªŒè§„èŒƒ

### åŠ è½½çŠ¶æ€
1. **æŒ‰é’®çŠ¶æ€**: ç¦ç”¨ + åŠ è½½æ–‡æœ¬
   ```tsx
   <button
     disabled={isLoading}
     className="px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed"
   >
     {isLoading ? 'å¤„ç†ä¸­...' : 'å¼€å§‹å¤„ç†'}
   </button>
   ```

2. **æµå¼å†…å®¹**: å®æ—¶æ›´æ–°æ˜¾ç¤º
   ```tsx
   {request.responseFormat === 'markdown' ? (
     <Streamdown>{response}</Streamdown>
   ) : (
     <pre className="whitespace-pre-wrap text-sm">{response}</pre>
   )}
   ```

### è¡¨å•å¤„ç†
1. **è¾“å…¥éªŒè¯**: å‰ç«¯éªŒè¯ + åç«¯éªŒè¯
   ```tsx
   const isValid = request.prompt.trim().length > 0;
   
   <button
     onClick={handleSubmit}
     disabled={!isValid || isLoading}
   >
   ```

2. **ç”¨æˆ·åé¦ˆ**: æˆåŠŸ/é”™è¯¯æç¤º
   ```tsx
   // æˆåŠŸæç¤º
   <div className="bg-green-50 border border-green-200 text-green-800">
   
   // é”™è¯¯æç¤º  
   <div className="bg-red-50 border border-red-200 text-red-800">
   
   // ä¿¡æ¯æç¤º
   <div className="bg-blue-50 border border-blue-200 text-blue-800">
   ```

## ğŸš€ æ€§èƒ½ä¼˜åŒ–

### ç»„ä»¶ä¼˜åŒ–
1. **é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“**: åˆç†ä½¿ç”¨ useCallback, useMemo
2. **å¤§åˆ—è¡¨ä¼˜åŒ–**: é™åˆ¶æ˜¾ç¤ºæ•°é‡ï¼Œä½¿ç”¨åˆ†é¡µæˆ–è™šæ‹Ÿæ»šåŠ¨
3. **å›¾ç‰‡ä¼˜åŒ–**: ä½¿ç”¨ Next.js Image ç»„ä»¶

### æ•°æ®å¤„ç†
1. **åˆ†é¡µåŠ è½½**: å†å²è®°å½•é™åˆ¶æ˜¾ç¤ºæ•°é‡
   ```tsx
   {history.slice(0, 10).map((item) => (...))}
   ```

2. **é˜²æŠ–å¤„ç†**: æœç´¢å’Œè¾“å…¥å¤„ç†ä½¿ç”¨é˜²æŠ–

## ğŸ”’ å®‰å…¨è§„èŒƒ

### æ•°æ®éªŒè¯
1. **è¾“å…¥éªŒè¯**: å‰åç«¯éƒ½è¦éªŒè¯
2. **XSS é˜²æŠ¤**: é¿å… dangerouslySetInnerHTML
3. **API å®‰å…¨**: ä½¿ç”¨ç¯å¢ƒå˜é‡å­˜å‚¨æ•æ„Ÿä¿¡æ¯

### é”™è¯¯å¤„ç†
1. **ä¸æš´éœ²å†…éƒ¨ä¿¡æ¯**: ç”Ÿäº§ç¯å¢ƒé”™è¯¯ä¿¡æ¯è¦è„±æ•
2. **æ—¥å¿—è®°å½•**: è®°å½•é”™è¯¯ä½†ä¸æ˜¾ç¤ºç»™ç”¨æˆ·

## ğŸ“‹ ä»£ç è´¨é‡

### æäº¤è§„èŒƒ
- ä½¿ç”¨ Conventional Commits æ ¼å¼
- é€šè¿‡ Husky + lint-staged ç¡®ä¿ä»£ç è´¨é‡
- æäº¤å‰è‡ªåŠ¨è¿è¡Œ ESLint + Prettier

### æ–‡æ¡£è§„èŒƒ
- å¤æ‚å‡½æ•°æ·»åŠ  JSDoc æ³¨é‡Š
- README ä¿æŒæ›´æ–°
- API æ¥å£è¦æœ‰å®Œæ•´çš„ç±»å‹å®šä¹‰

## ğŸ¯ æœ€ä½³å®è·µæ€»ç»“

1. **ç»„ä»¶è®¾è®¡**: å•ä¸€èŒè´£ï¼Œé«˜å†…èšä½è€¦åˆ
2. **ç±»å‹å®‰å…¨**: å……åˆ†åˆ©ç”¨ TypeScript ç±»å‹ç³»ç»Ÿ
3. **ç”¨æˆ·ä½“éªŒ**: åŠ è½½çŠ¶æ€ã€é”™è¯¯æç¤ºã€å“åº”å¼è®¾è®¡
4. **æ€§èƒ½ä¼˜åŒ–**: é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“å’Œç½‘ç»œè¯·æ±‚
5. **ä»£ç å¤ç”¨**: æå–å…¬å…±ç»„ä»¶å’Œå·¥å…·å‡½æ•°
6. **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯è¾¹ç•Œå’Œç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º

éµå¾ªè¿™äº›è§„èŒƒï¼Œç¡®ä¿ä»£ç è´¨é‡å’Œå¼€å‘æ•ˆç‡ï¼

# LangChain æµ‹è¯•å¹³å°å¼€å‘è§„èŒƒ

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

### æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Next.js 14 (App Router)
- **è¯­è¨€**: TypeScript (ä¸¥æ ¼æ¨¡å¼)
- **æ ·å¼**: Tailwind CSS + CSS Variables
- **çŠ¶æ€ç®¡ç†**: React Hooks (useState, useEffect, useRef)
- **AIæ¡†æ¶**: LangChain + OpenAI
- **UIç»„ä»¶**: Lucide React Icons
- **ä»£ç è´¨é‡**: ESLint + Prettier + Husky

### ç›®å½•ç»“æ„
```
src/
â”œâ”€â”€ app/                    # Next.js App Router é¡µé¢
â”‚   â”œâ”€â”€ api/               # API è·¯ç”±
â”‚   â”œâ”€â”€ layout.tsx         # æ ¹å¸ƒå±€
â”‚   â””â”€â”€ [feature]/page.tsx # åŠŸèƒ½é¡µé¢
â”œâ”€â”€ components/            # å¯å¤ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ Sidebar.tsx        # å¯¼èˆªä¾§è¾¹æ 
â”‚   â””â”€â”€ TestPageLayout.tsx # æµ‹è¯•é¡µé¢é€šç”¨å¸ƒå±€
â””â”€â”€ lib/                   # å·¥å…·å‡½æ•°
    â””â”€â”€ utils.ts           # Tailwind ç±»ååˆå¹¶å·¥å…·
```

## ğŸ“ ç¼–ç è§„èŒƒ

### TypeScript è§„èŒƒ
1. **ä¸¥æ ¼ç±»å‹å®šä¹‰**: æ‰€æœ‰ç»„ä»¶ props å¿…é¡»å®šä¹‰æ¥å£
   ```tsx
   interface ComponentNameProps {
     title: string;
     description?: string;
     children: React.ReactNode;
   }
   
   export default function ComponentName({ title, description, children }: ComponentNameProps) {
     // å®ç°
   }
   ```

2. **ç»„ä»¶å‘½å**: ä½¿ç”¨ PascalCaseï¼Œæ–‡ä»¶åä¸ç»„ä»¶åä¸€è‡´
   - âœ… `TestPageLayout.tsx` -> `TestPageLayout`
   - âœ… `PromptTestPage` -> `page.tsx` (App Router é¡µé¢)

3. **æ¥å£å‘½å**: ç»„ä»¶ props æ¥å£ä»¥ `Props` ç»“å°¾
   - âœ… `TestPageLayoutProps`
   - âœ… `PromptTestRequest`

### React ç»„ä»¶è§„èŒƒ
1. **å‡½æ•°ç»„ä»¶**: ä½¿ç”¨å‡½æ•°å£°æ˜ + export default
   ```tsx
   export default function ComponentName() {
     return <div>...</div>;
   }
   ```

2. **Hook ä½¿ç”¨é¡ºåº**:
   ```tsx
   // 1. State hooks
   const [state, setState] = useState();
   
   // 2. Ref hooks  
   const refName = useRef();
   
   // 3. Effect hooks
   useEffect(() => {}, []);
   
   // 4. Custom hooks å’Œå…¶ä»–é€»è¾‘
   ```

3. **äº‹ä»¶å¤„ç†**: ä½¿ç”¨ `handle` å‰ç¼€
   ```tsx
   const handleSubmit = async () => {};
   const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {};
   ```

### æ ·å¼è§„èŒƒ
1. **Tailwind CSS**: ä¼˜å…ˆä½¿ç”¨ Tailwind ç±»å
   ```tsx
   // âœ… æ¨è
   <div className="flex h-screen bg-gray-50">
   
   // âŒ é¿å…å†…è”æ ·å¼
   <div style={{display: 'flex'}}>
   ```

2. **æ¡ä»¶æ ·å¼**: ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²æˆ– cn() å·¥å…·å‡½æ•°
   ```tsx
   // ç®€å•æ¡ä»¶
   className={`px-4 py-2 ${isActive ? 'bg-blue-500' : 'bg-gray-200'}`}
   
   // å¤æ‚æ¡ä»¶ä½¿ç”¨ cn()
   className={cn(
     "px-4 py-2 rounded-md",
     isActive && "bg-blue-500 text-white",
     isDisabled && "opacity-50 cursor-not-allowed"
   )}
   ```

3. **å“åº”å¼è®¾è®¡**: éµå¾ª mobile-first åŸåˆ™
   ```tsx
   <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
   ```

4. **é¢œè‰²ä½¿ç”¨**: ä¼˜å…ˆä½¿ç”¨è¯­ä¹‰åŒ–é¢œè‰²å˜é‡
   ```tsx
   // âœ… ä½¿ç”¨è¯­ä¹‰åŒ–é¢œè‰²
   <button className="bg-primary text-primary-foreground">
   
   // âœ… ä½¿ç”¨ç°åº¦ç³»ç»Ÿ
   <p className="text-gray-600">
   
   // âœ… çŠ¶æ€é¢œè‰²
   <div className="bg-blue-50 border border-blue-200 text-blue-800">
   ```

## ğŸ¯ é¡µé¢å¼€å‘è§„èŒƒ

### å¸ƒå±€ç»„ä»¶ä½¿ç”¨
1. **æµ‹è¯•é¡µé¢**: å¿…é¡»ä½¿ç”¨ `TestPageLayout` åŒ…è£…
   ```tsx
   export default function FeaturePage() {
     return (
       <TestPageLayout 
         title="åŠŸèƒ½æ ‡é¢˜" 
         description="åŠŸèƒ½æè¿°"
       >
         <div className="p-6 space-y-6">
           {/* é¡µé¢å†…å®¹ */}
         </div>
       </TestPageLayout>
     );
   }
   ```

2. **é¦–é¡µ**: ç›´æ¥ä½¿ç”¨ Sidebar + main å¸ƒå±€
   ```tsx
   <div className="flex h-screen bg-gray-50">
     <Sidebar />
     <main className="flex-1 overflow-y-auto">
       {/* å†…å®¹ */}
     </main>
   </div>
   ```

### API è·¯ç”±è§„èŒƒ
1. **æ–‡ä»¶ç»“æ„**: ä½¿ç”¨ `route.ts` æ–‡ä»¶
   ```
   src/app/api/
   â”œâ”€â”€ prompt/route.ts
   â””â”€â”€ [feature]/route.ts
   ```

2. **è¯·æ±‚å¤„ç†**: åŒ…å«å®Œæ•´çš„é”™è¯¯å¤„ç†
   ```tsx
   export async function POST(request: NextRequest) {
     try {
       const body = await request.json();
       // å¤„ç†é€»è¾‘
       return NextResponse.json(result);
     } catch (error) {
       console.error('API Error:', error);
       return NextResponse.json(
         { error: 'å¤„ç†è¯·æ±‚æ—¶å‘ç”Ÿé”™è¯¯', details: error.message },
         { status: 500 }
       );
     }
   }
   ```

3. **æµå¼å“åº”**: ä½¿ç”¨ ReadableStream
   ```tsx
   const readable = new ReadableStream({
     async start(controller) {
       // æµå¼å¤„ç†é€»è¾‘
     }
   });
   ```

## ğŸ”§ LangChain é›†æˆè§„èŒƒ

### æ¨¡å‹é…ç½®
1. **ç¯å¢ƒå˜é‡**: ä½¿ç”¨ `process.env` é…ç½®
   ```tsx
   const chat = new ChatOpenAI({
     openAIApiKey: process.env.OPEN_API_KEY,
     modelName: 'gpt-3.5-turbo',
     configuration: {
       baseURL: process.env.OPEN_API_BASE_URL,
     },
   });
   ```

2. **æ¶ˆæ¯æ„å»º**: ä½¿ç”¨ LangChain æ¶ˆæ¯ç±»
   ```tsx
   const messages = [];
   if (systemMessage) {
     messages.push(new SystemMessage(systemMessage));
   }
   messages.push(new HumanMessage(prompt));
   ```

### é”™è¯¯å¤„ç†
1. **API è°ƒç”¨**: åŒ…å«è¶…æ—¶å’Œå–æ¶ˆæœºåˆ¶
   ```tsx
   const abortController = new AbortController();
   
   try {
     const response = await fetch('/api/endpoint', {
       signal: abortController.signal,
     });
   } catch (error) {
     if (error.name !== 'AbortError') {
       // å¤„ç†å…¶ä»–é”™è¯¯
     }
   }
   ```

## ğŸ“¦ çŠ¶æ€ç®¡ç†è§„èŒƒ

### æœ¬åœ°çŠ¶æ€
1. **ç®€å•çŠ¶æ€**: ä½¿ç”¨ useState
   ```tsx
   const [isLoading, setIsLoading] = useState(false);
   const [data, setData] = useState<DataType[]>([]);
   ```

2. **å¤æ‚å¯¹è±¡**: ä½¿ç”¨å¯¹è±¡çŠ¶æ€ + å±•å¼€æ“ä½œç¬¦
   ```tsx
   const [request, setRequest] = useState<RequestType>({
     prompt: '',
     temperature: 0.7,
     // ...å…¶ä»–å­—æ®µ
   });
   
   const updateRequest = (updates: Partial<RequestType>) => {
     setRequest(prev => ({ ...prev, ...updates }));
   };
   ```

### æŒä¹…åŒ–çŠ¶æ€
1. **localStorage**: ç”¨äºç”¨æˆ·åå¥½å’Œå†å²è®°å½•
   ```tsx
   // ä¿å­˜
   localStorage.setItem('key', JSON.stringify(data));
   
   // è¯»å–
   const saved = localStorage.getItem('key');
   if (saved) {
     setData(JSON.parse(saved));
   }
   ```

## ğŸ¨ ç”¨æˆ·ä½“éªŒè§„èŒƒ

### åŠ è½½çŠ¶æ€
1. **æŒ‰é’®çŠ¶æ€**: ç¦ç”¨ + åŠ è½½æ–‡æœ¬
   ```tsx
   <button
     disabled={isLoading}
     className="px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed"
   >
     {isLoading ? 'å¤„ç†ä¸­...' : 'å¼€å§‹å¤„ç†'}
   </button>
   ```

2. **æµå¼å†…å®¹**: å®æ—¶æ›´æ–°æ˜¾ç¤º
   ```tsx
   {request.responseFormat === 'markdown' ? (
     <Streamdown>{response}</Streamdown>
   ) : (
     <pre className="whitespace-pre-wrap text-sm">{response}</pre>
   )}
   ```

### è¡¨å•å¤„ç†
1. **è¾“å…¥éªŒè¯**: å‰ç«¯éªŒè¯ + åç«¯éªŒè¯
   ```tsx
   const isValid = request.prompt.trim().length > 0;
   
   <button
     onClick={handleSubmit}
     disabled={!isValid || isLoading}
   >
   ```

2. **ç”¨æˆ·åé¦ˆ**: æˆåŠŸ/é”™è¯¯æç¤º
   ```tsx
   // æˆåŠŸæç¤º
   <div className="bg-green-50 border border-green-200 text-green-800">
   
   // é”™è¯¯æç¤º  
   <div className="bg-red-50 border border-red-200 text-red-800">
   
   // ä¿¡æ¯æç¤º
   <div className="bg-blue-50 border border-blue-200 text-blue-800">
   ```

## ğŸš€ æ€§èƒ½ä¼˜åŒ–

### ç»„ä»¶ä¼˜åŒ–
1. **é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“**: åˆç†ä½¿ç”¨ useCallback, useMemo
2. **å¤§åˆ—è¡¨ä¼˜åŒ–**: é™åˆ¶æ˜¾ç¤ºæ•°é‡ï¼Œä½¿ç”¨åˆ†é¡µæˆ–è™šæ‹Ÿæ»šåŠ¨
3. **å›¾ç‰‡ä¼˜åŒ–**: ä½¿ç”¨ Next.js Image ç»„ä»¶

### æ•°æ®å¤„ç†
1. **åˆ†é¡µåŠ è½½**: å†å²è®°å½•é™åˆ¶æ˜¾ç¤ºæ•°é‡
   ```tsx
   {history.slice(0, 10).map((item) => (...))}
   ```

2. **é˜²æŠ–å¤„ç†**: æœç´¢å’Œè¾“å…¥å¤„ç†ä½¿ç”¨é˜²æŠ–

## ğŸ”’ å®‰å…¨è§„èŒƒ

### æ•°æ®éªŒè¯
1. **è¾“å…¥éªŒè¯**: å‰åç«¯éƒ½è¦éªŒè¯
2. **XSS é˜²æŠ¤**: é¿å… dangerouslySetInnerHTML
3. **API å®‰å…¨**: ä½¿ç”¨ç¯å¢ƒå˜é‡å­˜å‚¨æ•æ„Ÿä¿¡æ¯

### é”™è¯¯å¤„ç†
1. **ä¸æš´éœ²å†…éƒ¨ä¿¡æ¯**: ç”Ÿäº§ç¯å¢ƒé”™è¯¯ä¿¡æ¯è¦è„±æ•
2. **æ—¥å¿—è®°å½•**: è®°å½•é”™è¯¯ä½†ä¸æ˜¾ç¤ºç»™ç”¨æˆ·

## ğŸ“‹ ä»£ç è´¨é‡

### æäº¤è§„èŒƒ
- ä½¿ç”¨ Conventional Commits æ ¼å¼
- é€šè¿‡ Husky + lint-staged ç¡®ä¿ä»£ç è´¨é‡
- æäº¤å‰è‡ªåŠ¨è¿è¡Œ ESLint + Prettier

### æ–‡æ¡£è§„èŒƒ
- å¤æ‚å‡½æ•°æ·»åŠ  JSDoc æ³¨é‡Š
- README ä¿æŒæ›´æ–°
- API æ¥å£è¦æœ‰å®Œæ•´çš„ç±»å‹å®šä¹‰

## ğŸ¯ æœ€ä½³å®è·µæ€»ç»“

1. **ç»„ä»¶è®¾è®¡**: å•ä¸€èŒè´£ï¼Œé«˜å†…èšä½è€¦åˆ
2. **ç±»å‹å®‰å…¨**: å……åˆ†åˆ©ç”¨ TypeScript ç±»å‹ç³»ç»Ÿ
3. **ç”¨æˆ·ä½“éªŒ**: åŠ è½½çŠ¶æ€ã€é”™è¯¯æç¤ºã€å“åº”å¼è®¾è®¡
4. **æ€§èƒ½ä¼˜åŒ–**: é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“å’Œç½‘ç»œè¯·æ±‚
5. **ä»£ç å¤ç”¨**: æå–å…¬å…±ç»„ä»¶å’Œå·¥å…·å‡½æ•°
6. **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯è¾¹ç•Œå’Œç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º

éµå¾ªè¿™äº›è§„èŒƒï¼Œç¡®ä¿ä»£ç è´¨é‡å’Œå¼€å‘æ•ˆç‡ï¼

